<center> <H1>Xpath语法

> 简介

XPath 是一门在 XML 文档中查找信息的语言。XPath 是 XSLT 中的主要元素。XQuery 和 XPointer 均构建于 XPath 表达式之上

> 路径表达式

XPath 使用路径表达式来选取 XML 文档中的节点或者节点集。这些路径表达式和我们在常规的电脑文件系统中看到的表达式非常相似

>xpath标准函数

XPath 含有超过 100 个内建的函数。这些函数用于字符串值、数值、日期和时间比较、节点和 QName 处理、序列处理、逻辑值等等。

> Xpath节点

1. `节点`

    在Xpath中，有7种类型的节点，元素、属性、文本、命名空间、注释、文档根节点，XML文档是被当作`节点树`来对待的，树中的根被称为文档节点或者是根节点。

> Xpath语法

| nodename | 选取此节点的所有子节点 |
| -------- | :--------------------- |
| /        | 从根节点开始选取       |
| //       | 选取节点，不考虑位置   |
| .        | 选取当前节点           |
| ..       | 选取当前节点的父节点   |
|          | 选取属性               |

`谓语`

`谓语用来查找某个特定的节点或者包含某个指定值的节点，谓语被嵌在[]中`

| 路径表达式                          | 含义                                                       |
| ----------------------------------- | ---------------------------------------------------------- |
| /bookstore/book[1]                  | 选取bookstore元素的第一个book子元素                        |
| /bookstore/book[last()]             | 选取bookstore元素的最后一个book子元素                      |
| /bookstore/book[last()-1]           | 选取bookstore元素的倒数第二个book子元素                    |
| /bookstore/book[position()<3]       | 选取bookstore元素的前两个book子元素                        |
| //title[@lang]                      | 选取属性名为lang的所有title元素                            |
| //title[@lang='123']                | 选取属性名为lang并且值等于123的所有title元素               |
| /bookstore/book[price>35.00]        | 选取bookstore元素的所有price>35的所有book子元素            |
| /bookstore/book[price>35.00]//title | 选取bookstore元素的所有price>35的所有book元素中的title元素 |

`选取未知节点`

`Xpath通配符可以用来选取未知的XML元素`

| 通配符 | 含义             |
| ------ | ---------------- |
| *      | 匹配任何元素节点 |
| @*     | 匹配任何属性节点 |
| node() | 匹配任何类型节点 |

`选取若干路径`

`通过在路径表达式中使用｜可以选取若干路径`

> Xpath轴

`轴可以定义相对于当前节点的节点集`

| 轴                 | 含义                                       |
| ------------------ | ------------------------------------------ |
| ancestor           | 选取当前节点的所有先辈节点                 |
| ancestor-or-self   | 选取当前节点的所有先辈节点以及当前节点本身 |
| attribute          | 选取当前节点的所有属性                     |
| child              | 选取当前节点的所有子元素                   |
| descendant         | 选取当前节点的所有后代                     |
| descendant-or-self | 选取当前节点的所有后代元素包括当前节点本身 |
| following          | 选取文档中当前节点的结束标签之后的所有节点 |
| following-sibling  | 选取当前节点以后的所有兄弟节点             |
| namespace          | 选取当前节点的所有命名空间节点             |
| parent             | 选取当前节点的父亲节点                     |
| preceding          | 选取当前节点开始标签之前的所有节点         |
| preceding-sibling  | 选取当前节点之前的所有兄弟节点             |
| self               | 选取当前节点                               |

> Xpath运算符

`XPath 表达式可返回节点集、字符串、逻辑值以及数字`

｜、+、-、*、div(除法)、=、!=、<、<=、>、>=、or、and、mod(余数)

