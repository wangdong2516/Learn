<center><h1> K8s
</center>

> å‘å±•ç»åŽ†

1. IAASï¼šåŸºç¡€è®¾æ–½å³æœåŠ¡ã€‚
2. PAAS:å¹³å°å³æœåŠ¡ã€‚
3. SAAS:è½¯ä»¶è®¾æ–½å³æœåŠ¡ã€‚

>ç‰¹ç‚¹

1. è½»é‡çº§ï¼Œæ¶ˆè€—çš„èµ„æºå°
2. å¼€æºçš„
3. å¼¹æ€§ä¼¸ç¼©ï¼Œå¹³ç¼“å‡çº§
4. è´Ÿè½½å‡è¡¡ï¼Œæ¨¡å—ä¹‹é—´çš„è´Ÿè½½å‡è¡¡ã€‚IPVSæ¡†æž¶

> ç»„ä»¶è¯´æ˜Ž

1. Borgçš„æž¶æž„

    + BorgMasterï¼šè´Ÿè´£è¯·æ±‚çš„åˆ†å‘(å¤§è„‘)ï¼ŒæŽ¥å—è¯·æ±‚
    + BorgLetï¼šå·¥ä½œçš„èŠ‚ç‚¹ï¼Œç›‘å¬Paxosæ•°æ®åº“ï¼Œçœ‹æœ‰æ²¡æœ‰è‡ªå·±çš„ä»»åŠ¡ã€‚æœ‰çš„è¯ï¼Œå°±æ‰§è¡Œæ¶ˆè´¹ã€‚
    + è®¿é—®çš„æ–¹å¼ï¼š
        + æµè§ˆå™¨
        + å‘½ä»¤è¡Œ
        + æ–‡ä»¶çš„è¯»å–
        + é…ç½®æ–‡ä»¶
    + scheduler: è°ƒåº¦å™¨ï¼Œä»»åŠ¡çš„è°ƒåº¦å’Œåˆ†å‘ï¼Œä¸æ˜¯ç›´æŽ¥å’ŒBorgLetç›´æŽ¥äº¤äº’ï¼Œè€Œæ˜¯å°†åˆ†å‘çš„æ•°æ®å†™å…¥åˆ°Paxos(é”®å€¼å¯¹çš„æ•°æ®åº“)ä¸­ 

2. K8Sæž¶æž„

    ![image-20200910000020755](/Users/wangdong/Library/Application Support/typora-user-images/image-20200910000020755.png)

    + Master
        + schedulerï¼šè°ƒåº¦å™¨ï¼Œåˆ†å‘äº¤ç»™api serverï¼Œapi serverå°†ä»»åŠ¡å†™å…¥åˆ°etcdã€‚æŽ¥å—ä»»åŠ¡ï¼Œé€‰æ‹©åˆé€‚çš„nodeèŠ‚ç‚¹è¿›è¡Œä»»åŠ¡çš„åˆ†é…ã€‚
        + replication controllerï¼šæŽ§åˆ¶å™¨ï¼Œç»´æŠ¤å‰¯æœ¬çš„æ•°ç›®(æœŸæœ›å€¼),åˆ›å»ºæˆ–è€…åˆ é™¤å¯¹åº”çš„Pod
        + api server:æœåŠ¡è®¿é—®çš„å…¥å£ï¼ŒåŸºæœ¬ä¸Šæ‰€æœ‰çš„æœåŠ¡éƒ½è¦å’Œapi serverè¿›è¡Œäº¤äº’ã€‚
        + etcdï¼šç±»ä¼¼äºŽBorgç³»ç»Ÿçš„Paxosé”®å€¼å¯¹æ•°æ®åº“ï¼Œä¹Ÿæ˜¯é”®å€¼å¯¹å­˜å‚¨ç³»ç»Ÿã€‚å­˜å‚¨K8Sé›†ç¾¤çš„æ‰€æœ‰é‡è¦ä¿¡æ¯ï¼Œéœ€è¦æŒä¹…åŒ–çš„æ•°æ®ã€‚
    + Node
        + kubelet: è·Ÿå®¹å™¨è¿›è¡Œäº¤äº’ï¼Œæ“ä½œå®¹å™¨ï¼Œç»´æŒPodçš„ç”Ÿå‘½å‘¨æœŸã€‚ç®¡ç†å®¹å™¨çš„ç”Ÿå‘½å‘¨æœŸã€‚
        + Kube proxy:è´Ÿè´£å‡è¡¡ï¼Œè®¿é—®ã€‚æ“ä½œé˜²ç«å¢™å®žçŽ°Podæ˜ å°„ã€‚è´Ÿè´£å†™å…¥è§„åˆ™åˆ°IPTABLESæˆ–è€…æ˜¯IPVSå®žçŽ°æœåŠ¡æ˜ å°„è®¿é—®ã€‚
        + container: å®¹å™¨

> å…¶ä»–æ’ä»¶è¯´æ˜Ž

1. CoreDNSï¼šå¯ä»¥ä¸ºé›†ç¾¤ä¸­çš„SVCåˆ›å»ºä¸€ä¸ªåŸŸåIPçš„å¯¹åº”å…³ç³»è§£æžã€‚
2. Dashboard:ç»™K8Sé›†ç¾¤æä¾›ä¸€ä¸ªB/Sç»“æž„çš„è®¿é—®ä½“ç³»ã€‚
3. Ingress Controller:å®˜æ–¹å®žçŽ°äº†å››å±‚ä»£ç†ï¼ŒIngresså®žçŽ°äº†ä¸ƒå±‚ä»£ç†
4. Fedetation:æä¾›ä¸€ä¸ªå¯ä»¥è·¨é›†ç¾¤ä¸­å¿ƒå¤šK8Sç»Ÿä¸€ç®¡ç†çš„åŠŸèƒ½ã€‚
5. prometheusï¼šæä¾›ä¸€ä¸ªK8Sé›†ç¾¤çš„ç›‘æŽ§èƒ½åŠ›
6. Elkï¼šæä¾›K8Sé›†ç¾¤æ—¥å¿—çš„ç»Ÿä¸€åˆ†æžå’ŒæŽ¥å…¥çš„å¹³å°ã€‚

> Podçš„æ¦‚å¿µ

1. è‡ªä¸»å¼Podï¼šä¸æ˜¯è¢«æŽ§åˆ¶å™¨ç®¡ç†çš„Podï¼Œä¸€æ—¦æ­»äº¡ï¼Œä¸ä¼šè¢«æ‹‰èµ·ã€‚

2. Podæ˜¯K8Sä¸­èƒ½å¤Ÿè¢«è¿è¡Œçš„æœ€å°çš„é€»è¾‘å•å…ƒï¼Œä¹Ÿå«åšåŽŸå­å•å…ƒã€‚

3. ä¸€ä¸ªPodä¸­å¯ä»¥è¿è¡Œå¤šä¸ªå®¹å™¨ï¼Œå®ƒä»¬ä¹‹é—´å…±äº«UTS+NET+IPCåç§°ç©ºé—´ï¼Œåªéš”ç¦»äº†Mountã€Pidå’ŒUserã€‚

4. å¯ä»¥å°†Podç†è§£ä¸ºè±Œè±†èšï¼Œæ¯ä¸ªPodä¸­çš„å®¹å™¨ç†è§£ä¸ºè±Œè±†ã€‚

5. `PodæŽ§åˆ¶å™¨`ï¼š æ˜¯Podå¯åŠ¨çš„ä¸€ç§æ¨¡æ¿ï¼Œç”¨æ¥ä¿è¯åœ¨K8Sé‡Œå¯åŠ¨çš„Podå§‹ç»ˆæŒ‰ç…§äººä»¬çš„é¢„æœŸæ¥è¿è¡Œã€‚

    K8Sä¸­æä¾›äº†å¾ˆå¤šçš„PodæŽ§åˆ¶å™¨ï¼Œå¸¸ç”¨çš„æœ‰ä¸‹é¢çš„å‡ ç§ï¼š

    `Depolyment`:éƒ¨ç½²

    `DaemonSet`ï¼š

    `ReplicaSet`ï¼šä¸ç›´æŽ¥å¯¹å¤–æä¾›æœåŠ¡ï¼Œ

    `StatefulSet:`ç®¡ç†æœ‰çŠ¶æ€çš„åº”ç”¨

    `Job`: ç®¡ç†ä»»åŠ¡

    `Cronjob`:ç®¡ç†å®šæ—¶å‘¨æœŸä»»åŠ¡

6. ä¸€ä¸ªPodä¸­è¿è¡Œå¤šä¸ªå®¹å™¨ï¼Œå«åšè¾¹è½¦æ¨¡å¼ã€‚

7. æŽ§åˆ¶å™¨ç®¡ç†çš„Pod:

    åªè¦æœ‰Podè¿è¡Œï¼Œå°±ä¼šæœ‰pauseå®¹å™¨è¢«è¿è¡Œï¼Œå…±ç”¨pauseçš„ç½‘ç»œæ ˆå’Œå­˜å‚¨å·

8. RCæŽ§åˆ¶å™¨:ç”¨æ¥ç¡®ä¿å®¹å™¨åº”ç”¨çš„å‰¯æœ¬æ•°å§‹ç»ˆä¿æŒåœ¨ç”¨æˆ·å®šä¹‰çš„å‰¯æœ¬æ•°ï¼Œä¿æŒä¸€ä¸ªæœŸæœ›å€¼ï¼Œ å³å¦‚æžœæœ‰å®¹å™¨å¼‚å¸¸é€€å‡ºï¼Œä¼šè‡ªåŠ¨åˆ›å»ºæ–°çš„Podè¿›è¡Œæ›¿æ¢ï¼Œå¤šå‡ºæ¥çš„å®¹å™¨ä¹Ÿä¼šè¢«è‡ªåŠ¨å›žæ”¶ï¼Œåœ¨æ–°ç‰ˆæœ¬çš„K8Sä¸­å»ºè®®ä½¿ç”¨RSæŽ§åˆ¶å™¨å–ä»£RCæŽ§åˆ¶å™¨ã€‚

9. RSæŽ§åˆ¶å™¨:å’ŒRCæ²¡æœ‰æœ¬è´¨çš„ä¸åŒï¼Œä½†æ˜¯æ”¯æŒé›†åˆå¼çš„selectorã€‚

10. DepæŽ§åˆ¶å™¨ï¼šè™½ç„¶RSå¯ä»¥ç‹¬ç«‹ä½¿ç”¨ï¼Œä½†æ˜¯å»ºè®®è¿˜æ˜¯ä½¿ç”¨Deploymentæ¥è‡ªåŠ¨ç®¡ç†RSï¼Œä¸éœ€è¦æ‹…å¿ƒä¸å…¼å®¹çš„é—®é¢˜ã€‚RSä¸æ”¯æŒå…³ä¸œæ›´æ–°ä½†æ˜¯Deploymentæ”¯æŒã€‚Deploymentä¸ç›´æŽ¥åˆ›å»ºPod

11. HPAï¼šå¹³æ»‘æ‰©å±•ã€‚

12. statefulset:
     + ç¨³å®šçš„æŒä¹…åŒ–å­˜å‚¨ï¼ŒPodé‡æ–°è°ƒåº¦ä¹‹åŽè¿˜æ˜¯èƒ½è®¿é—®åˆ°ç›¸åŒçš„æŒä¹…åŒ–æ•°æ®
     + ç¨³å®šçš„ç½‘ç»œæ ‡ç¤ºï¼ŒPodé‡æ–°è°ƒåº¦åŽPodNameå’ŒHostNameä¸å˜ï¼Œ
     + æœ‰åºéƒ¨ç½²ï¼šæœ‰åºæ‰©å±•ï¼ŒPodæ˜¯æœ‰é¡ºåºçš„ï¼Œåœ¨éƒ¨ç½²æˆ–è€…æ˜¯æ‰©å±•çš„æ—¶å€™è¦æ ¹æ®å®šä¹‰çš„é¡ºåºä¾æ¬¡è¿›è¡Œ
     + æœ‰åºæ”¶ç¼©å’Œæœ‰åºåˆ é™¤ã€‚

13. DaemonSet:ç¡®ä¿å…¨éƒ¨Nodeä¸Šè¿è¡Œä¸€ä¸ªPodçš„å‰¯æœ¬ï¼Œå½“NodeåŠ å…¥é›†ç¾¤çš„æ—¶å€™ï¼Œä¹Ÿä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„Podï¼Œå½“æœ‰Nodeä»Žé›†ç¾¤ä¸­ç§»é™¤çš„æ—¶å€™ï¼Œè¿™äº›Podä¹Ÿä¼šè¢«å›žæ”¶ï¼Œåˆ é™¤DaemonSetç›‘æ ¸ä¼šåˆ é™¤ä»–åˆ›å»ºçš„æ‰€æœ‰çš„Podã€‚

14. Jobï¼šè´Ÿè´£æ‰¹å¤„ç†çš„ä»»åŠ¡ï¼Œä»…æ‰§è¡Œä¸€æ¬¡ï¼Œä¿è¯æ‰¹å¤„ç†ä»»åŠ¡çš„ä¸€ä¸ªæˆ–è€…å¤šä¸ªPodæˆåŠŸç»“æŸã€‚

> æœåŠ¡å‘çŽ°

1. 

> ç½‘ç»œé€šè®¯çš„æ–¹å¼

1. K8Sçš„ç½‘ç»œæ¨¡åž‹å‡å®šäº†æ‰€æœ‰çš„Podéƒ½åœ¨ä¸€ä¸ªå¯ä»¥ç›´æŽ¥è¿žé€šçš„æ‰å¹³çš„ç½‘ç»œç©ºé—´ä¸­ï¼Œè¿™åœ¨GCEé‡Œé¢æ˜¯çŽ°æˆçš„ç½‘ç»œæ¨¡åž‹ï¼ŒK8Så‡å®šè¿™ä¸ªç½‘ç»œå·²ç»å­˜åœ¨ã€‚
2. åŒä¸€ä¸ªPodå†…çš„å¤šä¸ªå®¹å™¨ä¹‹é—´ï¼šlo
3. å„Podä¹‹é—´çš„é€šè®¯ï¼šOverlay Network
4. PodäºŽServiceä¹‹é—´çš„é€šä¿¡ï¼šå„èŠ‚ç‚¹çš„IPTablesè§„åˆ™

> Nameå’ŒNamespace

1. `Name`ï¼šç”±äºŽK8Så†…éƒ¨ä½¿ç”¨`èµ„æº`æ¥å®šä¹‰æ¯ä¸€ç§é€»è¾‘çš„æ¦‚å¿µ(åŠŸèƒ½)ï¼Œæ‰€ä»¥æ¯ç§èµ„æºéƒ½æœ‰è‡ªå·±çš„åç§°ã€‚

    èµ„æºæœ‰apiç‰ˆæœ¬ç±»åˆ«ï¼Œå…ƒæ•°æ®ï¼Œå®šä¹‰æ¸…å•ï¼ŒçŠ¶æ€ç­‰é…ç½®ä¿¡æ¯ã€‚

    åç§°é€šå¸¸å®šä¹‰åœ¨èµ„æºçš„å…ƒæ•°æ®ä¿¡æ¯ä¸­

2. `Namespace`:

    + éšç€é¡¹ç›®çš„å¢žå¤šï¼Œäººå‘˜çš„å¢žåŠ ä»¥åŠé›†ç¾¤è§„æ¨¡çš„æ‰©å¤§ï¼Œéœ€è¦ä¸€ç§èƒ½å¤Ÿéš”ç¦»K8Så†…éƒ¨å„ç§èµ„æºçš„æ–¹æ³•ï¼Œè¿™å°±æ˜¯åç§°ç©ºé—´Namespaceã€‚
    + åç§°ç©ºé—´å¯ä»¥ç†è§£ä¸ºK8Så†…éƒ¨çš„è™šæ‹Ÿé›†ç¾¤ç»„ã€‚
    + ä¸åŒåç§°ç©ºé—´å†…çš„èµ„æºï¼Œåç§°å¯ä»¥ç›¸åŒï¼Œæƒ³é€šåç§°ç©ºé—´å†…çš„åŒç§èµ„æºåç§°ä¸èƒ½ç›¸åŒã€‚
    + åˆç†çš„ä½¿ç”¨K8Sçš„åç§°ç©ºé—´ï¼Œå¯ä»¥ä½¿å¾—é›†ç¾¤ç®¡ç†å‘˜èƒ½å¤Ÿæ›´å¥½çš„å¯¹äº¤ä»˜åˆ°K8Sé‡Œçš„æœåŠ¡è¿›è¡Œåˆ†ç±»ç®¡ç†å’Œæµè§ˆã€‚
    + K8Sé‡Œå­˜åœ¨çš„é»˜è®¤åç§°ç©ºé—´æœ‰ï¼šdefaultã€kube-systemã€kube-public
    + æŸ¥è¯¢K8Sé‡Œç‰¹å®šèµ„æºçš„æ—¶å€™ï¼Œéœ€è¦å¸¦ä¸Šç›¸åº”çš„åç§°ã€‚ 

> Labelå’ŒLabelé€‰æ‹©å™¨

1. `Label`ï¼š

    + æ ‡ç­¾æ˜¯K8Sä¸­ç‰¹è‰²çš„ç®¡ç†æ–¹å¼ï¼Œä¾¿äºŽåˆ†ç±»ç®¡ç†èµ„æºå¯¹è±¡ã€‚
    + ä¸€ä¸ªæ ‡ç­¾å¯ä»¥å¯¹åº”å¤šä¸ªèµ„æºï¼Œä¸€ä¸ªèµ„æºå¯ä»¥æœ‰å¤šä¸ªæ ‡ç­¾ï¼Œå®ƒä»¬ä¹‹é—´æ˜¯å¤šå¯¹å¤šçš„å…³ç³»ã€‚
    + ä¸€ä¸ªèµ„æºæ‹¥æœ‰å¤šä¸ªæ ‡ç­¾ï¼Œå¯ä»¥å®žçŽ°ä¸åŒçº¬åº¦çš„ç®¡ç†ã€‚
    + æ ‡ç­¾çš„ç»„æˆ:key=value
    + ä¸Žæ ‡ç­¾ç±»ä¼¼çš„è¿˜æœ‰æ³¨è§£

2. `Labelé€‰æ‹©å™¨`ï¼š

    + ç»™èµ„æºæ‰“ä¸Šæ ‡ç­¾ä¹‹åŽï¼Œå¯ä»¥ä½¿ç”¨æ ‡ç­¾é€‰æ‹©å™¨è¿‡æ»¤æŒ‡å®šçš„æ ‡ç­¾ã€‚

    + æ ‡ç­¾é€‰æ‹©å™¨ç›®å‰æœ‰ä¸¤ä¸ªï¼šåŸºäºŽç­‰å€¼å…³ç³»ï¼ˆç­‰äºŽã€ä¸ç­‰äºŽï¼‰å’ŒåŸºäºŽé›†åˆå…³ç³»ï¼ˆå±žäºŽã€ä¸å±žäºŽã€å­˜åœ¨ï¼‰ã€‚

    + è®¸å¤šèµ„æºæ”¯æŒå†…åµŒæ ‡ç­¾é€‰æ‹©å™¨å­—æ®µ

        matchLabels

        matchExpressions

> Serviceå’ŒIngress

1. `Service`:åœ¨K8S çš„ä¸–ç•Œä¸­ï¼Œè™½ç„¶æ¯ä¸ªPodéƒ½ä¼šè¢«åˆ†é…ä¸€ä¸ªå•ç‹¬çš„IPåœ°å€ï¼Œä½†æ˜¯è¿™ä¸ªIPåœ°å€ä¼šéšç€Podçš„é”€æ¯è€Œæ¶ˆå¤±ã€‚
    + Serviceå°±æ˜¯ç”¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜çš„æ ¸å¿ƒæ¦‚å¿µã€‚
    + ä¸€ä¸ªServiceå¯ä»¥çœ‹ä½œä¸€ç»„æä¾›ç›¸åŒæœåŠ¡çš„Podçš„å¯¹å¤–è®¿é—®çš„æŽ¥å£ã€‚
    + Serviceä½œç”¨äºŽé‚£äº›Podæ˜¯ç”¨è¿‡æ ‡ç­¾é€‰æ‹©å™¨å®šä¹‰çš„
2. `Ingress`
    + Ingressæ˜¯K8Sé›†ç¾¤ç†å·¥ä½œåœ¨OSIç½‘ç»œå‚è€ƒæ¨¡åž‹ä¸‹ï¼Œç¬¬7å±‚çš„åº”ç”¨ï¼Œå¯¹å¤–æš´éœ²çš„æŽ¥å£
    + Serviceåªèƒ½è¿›è¡ŒL4æµé‡è°ƒåº¦ï¼Œè¡¨çŽ°çš„å½¢å¼æ˜¯IP+PORT
    + Ingresså¯ä»¥è°ƒåº¦ä¸åŒçš„ä¸šåŠ¡åŸŸï¼Œä¸åŒçš„URLè®¿é—®è·¯å¾„çš„ä¸šåŠ¡æµé‡ã€‚ 

> æ ¸å¿ƒç»„ä»¶

1. é…ç½®å­˜å‚¨ä¸­å¿ƒ-> etcdæœåŠ¡ï¼Œå­˜å‚¨é›†ç¾¤çš„å…ƒæ•°æ®ä¿¡æ¯ï¼Œkey-valueæ•°æ®åº“

2. ä¸»æŽ§(master)èŠ‚ç‚¹ï¼š

    + Kube-apiserverï¼šæä¾›äº†é›†ç¾¤ç®¡ç†çš„REST APIæŽ¥å£ï¼ŒåŒ…æ‹¬é‰´æƒï¼Œæ•°æ®æ ¡éªŒä»¥åŠé›†ç¾¤çš„çŠ¶æ€å˜æ›´ã€‚è´Ÿè´£å…¶ä»–æ¨¡å—ä¹‹é—´çš„æ•°æ®äº¤äº’ï¼Œæ‰¿æ‹…é€šä¿¡æž¢çº½çš„åŠŸèƒ½ã€‚æ˜¯èµ„æºé…ç½®æŽ§åˆ¶çš„å…¥å£ã€‚æä¾›å®Œå¤‡çš„é›†ç¾¤å®‰å…¨æœºåˆ¶ã€‚å¤§è„‘ðŸ§ 

    + Kube-controller-manageræœåŠ¡ï¼šç”±ä¸€ç³»åˆ—æŽ§åˆ¶å™¨ç»„æˆï¼Œé€šè¿‡apiserverç›‘æŽ§æ•´ä¸ªé›†ç¾¤çš„çŠ¶æ€ï¼Œå¹¶ä¸”ç¡®ä¿é›†ç¾¤å¤„äºŽé¢„æœŸçš„å·¥ä½œçŠ¶æ€ 

    + Kube-scheduleræœåŠ¡ï¼šä¸»è¦çš„åŠŸèƒ½æ˜¯æŽ¥å—è°ƒåº¦çš„Podåˆ°é€‚åˆçš„è¿ç®—èŠ‚ç‚¹ä¸Š

        é¢„ç®—ç­–ç•¥(predict)

        ä¼˜é€‰ç­–ç•¥(prioritiesen)

3. è¿ç®—èŠ‚ç‚¹ï¼š

    + Kube-kubeletæœåŠ¡ï¼šç®€å•çš„è¯´ï¼Œkubekletçš„ä¸»è¦åŠŸèƒ½å°±æ˜¯å®šæ—¶çš„ä»ŽæŸä¸ªåœ°æ–¹èŽ·å–èŠ‚ç‚¹ä¸Šçš„Podçš„æœŸæœ›çŠ¶æ€ï¼ˆè¿è¡Œä»€ä¹ˆå®¹å™¨ï¼Œè¿è¡Œçš„å‰¯æœ¬æ•°é‡ã€ç½‘ç»œæˆ–è€…å­˜å‚¨å¦‚ä½•é…ç½®çš„ç­‰ç­‰ï¼‰ï¼Œå¹¶ä¸”è°ƒç”¨å¯¹åº”çš„å®¹å™¨å¹³å°æŽ¥å£è¾¾åˆ°è¿™ä¸ªçŠ¶æ€

        å®šæ—¶æ±‡æŠ¥å½“å‰èŠ‚ç‚¹çš„çŠ¶æ€ç»™apiserverï¼Œä»¥ä¾›è°ƒåº¦çš„æ—¶å€™ä½¿ç”¨ã€‚

        é•œåƒå’Œå®¹å™¨çš„æ¸…ç†å·¥ä½œï¼Œä¿è¯èŠ‚ç‚¹ä¸Šçš„é•œåƒä¸ä¼šå æ»¡ç£ç›˜ç©ºé—´ï¼Œé€€å‡ºçš„å®¹å™¨ä¸ä¼šå ç”¨å¤ªå¤šçš„èµ„æºã€‚

    + Kube-proxyæœåŠ¡ï¼šæ˜¯K8Såœ¨æ¯ä¸ªç³»ç»Ÿä¸Šè¿è¡Œç½‘ç»œä»£ç†ï¼Œserviceèµ„æºçš„è½½ä½“ã€‚

        ç®€åŽ†äº†Podç½‘ç»œå’Œé›†ç¾¤ç½‘ç»œçš„å…³ç³»

        å¸¸ç”¨ä¸‰ç§æµé‡è°ƒåº¦æ¨¡å¼

        â€‹	Usersapce(åºŸå¼ƒ)

        â€‹	Iptables(æ¿’ä¸´åºŸå¼ƒ)

        â€‹	IpvsæŽ¨è

        è´Ÿè´£å»ºç«‹å’Œåˆ é™¤åŒ…æ‹¬æ›´æ–°è°ƒåº¦è§„åˆ™ï¼Œé€šçŸ¥apiserverè‡ªå·±çš„æ›´æ–°ï¼Œæˆ–è€…ä»Žapiserverå“ªé‡ŒèŽ·å–å…¶ä»–kube-proxyçš„è°ƒåº¦è§„åˆ™å˜åŒ–æ¥æ›´æ–°è‡ªå·±çš„

4. CILå®¢æˆ·ç«¯

    + kubectl

![image-20200913132557234](/Users/wangdong/Library/Application Support/typora-user-images/image-20200913132557234.png)

> æ ¸å¿ƒé™„ä»¶

1. CNIç½‘ç»œæ’ä»¶ ---> flannel/calico

2. æœåŠ¡å‘çŽ°ç”¨æ’ä»¶ ---> coredns

3. æœåŠ¡æš´éœ²ç”¨æ’ä»¶ ---> traefik

4. GUIç®¡ç†æ’ä»¶ ---> Dashboard

    